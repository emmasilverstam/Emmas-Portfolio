@import url("https://use.typekit.net/ymm5trk.css");

/* ========== Base ========== */
:root{
  --text:#3f2e26;
  --bg:#ffffff;
  --accent:#683741;
  --muted:#d7d7d7;
  --max:72rem;           /* gemensam maxbredd */
  --content-w:75%;       /* standard innehållsbredd */
}

html{ font-size:100%; }
body{
  font-family:"futura-pt",sans-serif;
  font-weight:300;
  font-style:normal;
  font-size:1.2rem;
  color:var(--text);
  background:var(--bg);
  margin:0;
}

h1{
  font-size:5rem;
  color:var(--text);
  font-weight:300;
  width:31rem;
  line-height:1;
  margin:7rem 0 3rem;
}
h2{
  font-size:1.7rem;
  color:var(--text);
  font-weight:700;
  margin:0 0 1rem;
}
p{ width:31rem; margin:0 0 1rem; }

a{
  color:var(--text);
  text-decoration:none;
  font-weight:700;
  font-size:1.3rem;
}

/* ========== Nav ========== */
nav{
  max-width:var(--max);
  margin:2rem auto 0;
  padding:0 1rem;
  position:relative;
  z-index:1000;
  display:flex;
  justify-content:flex-end;
  align-items:center;
  gap:.5rem;
}
nav ul{
  list-style:none;
  display:flex;
  gap:.5rem;
  margin:0;
  padding:0;
}
nav a:hover{
  text-decoration:underline;
  text-decoration-color:var(--text);
  text-decoration-thickness:.2rem;
}
.hamburger-menu{ display:none; cursor:pointer; }
.bar{ width:25px; height:3px; background:#353535; margin:6px 0; }

/* ========== Layout blocks ========== */
/* Intro/info (text + logobild) */
.info{
  display:grid;
  grid-template-columns:36% 36%;
  justify-content:center;
  column-gap:3%;
  row-gap:5rem;
  margin:-2rem 0 -5rem;
}
.pendel img{
  width:100%;
  margin-left:1.5rem;
  margin-top:7rem;
}

/* Step 1 (Moodboard + text) */
.step_1{
  display:grid;
  grid-template-columns:35% 35%;
  justify-content:center;
  column-gap:5%;
  row-gap:5rem;
  margin:10rem 0 -5rem;
}
.step_1 h2{ margin-top:0; }
.mood img{ width:100%; margin:0; }

/* Startläge för moodboard-bilden (animeras med JS) */
#moodboard-section .mood img{
  transform:translateX(-160px);
  opacity:0;
  will-change:transform,opacity;
}

/* Key words textblock */
.sketch{
  width:var(--content-w);
  max-width:var(--max);
  margin:8rem auto -5rem;
}
.sketch p{ margin-top:0; }

/* Step 2 (tre inspirationsbilder) */
.step_2{
  width:100%;
  background:var(--muted);
  padding:3rem 0 1.5rem;
  display:grid;
  grid-template-columns:repeat(3, 23.333%);
  justify-content:center;
  column-gap:1.875rem;
  margin-top:5rem;
}
.step_2 .sketches{
  width:100%;
  max-width:500px;
  height:200px;
  background:var(--muted);
  overflow:hidden;
}
.step_2 .sketches img{
  width:100%;
  height:100%;
  object-fit:contain;
  display:block;
}

/* Result text */
.result{
  display:grid;
  grid-template-columns:var(--content-w);
  justify-content:center;
  margin-top:6rem;
  position:relative;
  z-index:10;
}
.result h2{ margin-bottom:0; }

/* Step 3: The Line-up (7 bilder + stagger) */
#prototyping-gallery{
  width:var(--content-w);
  max-width:var(--max);
  margin:2rem auto 5rem;
}
.step_3{
  display:grid;
  grid-template-columns:repeat(7, 1fr);
  gap:2%;
  justify-items:center;
  margin:0 0 5rem;
}
.step_3 .pic{
  width:100%;
  overflow:visible;
  opacity:0;
  transform:translateY(16px);
}
.step_3 .pic img{
  width:110%;
  height:110%;
  object-fit:contain;
  display:block;
  background:#fff;
}
/* små variationsskalor som du hade */
.pic:nth-child(2) img{ transform:scale(1.15); }
.pic:nth-child(6) img{ transform:scale(1.07); }
.pic:nth-child(1) img{ transform:scale(1.03); }
.pic:nth-child(3) img{ transform:scale(1.05); }

/* in-view = starta stagger */
.step_3.in-view .pic{ animation:fadeUp 600ms ease-out forwards; }
.step_3.in-view .pic:nth-child(1){ animation-delay:0ms; }
.step_3.in-view .pic:nth-child(2){ animation-delay:120ms; }
.step_3.in-view .pic:nth-child(3){ animation-delay:240ms; }
.step_3.in-view .pic:nth-child(4){ animation-delay:360ms; }
.step_3.in-view .pic:nth-child(5){ animation-delay:480ms; }
.step_3.in-view .pic:nth-child(6){ animation-delay:600ms; }
.step_3.in-view .pic:nth-child(7){ animation-delay:720ms; }

@keyframes fadeUp{ to{ opacity:1; transform:translateY(0); } }

/* Hover-effekt (endast på enheter med hover) */
@media (hover:hover){
  .step_3 .pic img{
    transition:transform .35s ease, opacity .35s ease;
    transform-origin:center;
    will-change:transform;
  }
  .step_3:hover .pic img{ transform:scale(0.92); opacity:.5; }
  .step_3 .pic:hover img{ transform:scale(1.15); opacity:1; }
  .step_3:hover .pic:nth-child(2):not(:hover) img{ transform:scale(1.05); }
  .step_3 .pic:nth-child(2):hover img{ transform:scale(1.30); }
  .step_3:hover .pic:nth-child(6):not(:hover) img{ transform:scale(1.00); }
  .step_3 .pic:nth-child(6):hover img{ transform:scale(1.22); }
}

/* Textblock (Colours/Materials + Tech sketch) */
.slutgiltig{
  display:grid;
  grid-template-columns:var(--content-w);
  justify-content:center;
  margin-top:1rem;
}

/* Miljöfärgad sektion med stor bild */
.miljo-section{
  background:var(--accent);
  padding:3rem 0;
  display:flex;
  justify-content:center;
}
.miljo img{
  width:100%;
  max-width:var(--max);
  border-radius:10px;
  object-fit:contain;
  display:block;
  position:relative;
  z-index:2;
}

/* Fade-in för result-bilden */
#result-section .miljo img{
  opacity:0;
  margin-top:0;
  transform:translateY(30px);
  transition:opacity 3s ease, transform 3s ease;
  will-change:opacity,transform;
}
#result-section.visible .miljo img{
  opacity:1;
  transform:translateY(0);
}
@media (prefers-reduced-motion:reduce){
  #result-section .miljo img{ opacity:1 !important; transform:none !important; transition:none !important; }
}

/* Horisontell scroll-in för teknisk skiss */
.scroll-image-section{
  width:var(--content-w);
  max-width:var(--max);
  margin:6rem auto;
  overflow:hidden;
  position:relative;
}
.scroll-image-section img{
  width:100%;
  height:auto;
  transform:translateX(100vw);
  opacity:0;
  will-change:transform,opacity;
}
@media (prefers-reduced-motion:reduce){
  .scroll-image-section img{ transform:none !important; opacity:1 !important; }
}

/* ===================== */
/* ===== RESPONSIVE ==== */
/* ===================== */

/* ≤1050px — tajtare keywords, behåll desktop i övrigt */
@media (max-width:1050px){
  .step_2{
    grid-template-columns:repeat(3, 30%);
    column-gap:.75rem;
    row-gap:.75rem;
    padding:1.25rem 0;
    margin-top:3rem;
  }
}

/* ≤800px — iPad: moodboard-ordning, tajtare keywords, lineup nära, större colour-bild, hamburger */
@media (max-width:800px){
  /* Hamburger */
  .hamburger-menu{ display:block; margin-left:1rem; }
  nav ul{ display:none; flex-direction:column; background:#EBEBEB; width:90%; padding:1rem; margin:0 auto;
          box-shadow:0 2px 5px rgba(0,0,0,.1); }
  .hamburger-menu.active + ul,
  nav ul.active{ display:flex; align-items:center; justify-content:center; }

  /* Moodboard: text -> bild (utan att röra desktop) */
  .step_1{
    grid-template-columns:90%;
    grid-template-areas:
      "text"
      "image";
    row-gap:1.5rem;
    margin:2rem auto 1rem;
  }
  .step_1 > .mood{ grid-area:image; }
  .step_1 > div:not(.mood){ grid-area:text; }

  /* Intro-bilden högst upp på små skärmar */
  .info{
    grid-template-columns:90%;
    grid-auto-rows:auto;
    row-gap:2rem;
    margin-top:1rem;
  }
  .pendel{ order:-1; }
  .pendel img{ width:60%; margin:0 auto; display:block; }

  /* Keywords tajtare */
  .step_2{
    background:var(--muted);
    grid-template-columns:repeat(3, 30%);
    column-gap:.75rem;
    row-gap:.75rem;
    padding:1.25rem 0;
    margin-top:1rem;
  }

  /* Line-up text direkt efter grå sektionen */
  .result{
    grid-template-columns:90%;
    margin-top:1.25rem;
  }

  /* Line-up bilder synliga (IO kan vara trög på mobil) */
  .step_3 .pic{
    opacity:1;
    transform:none;
  }

  /* Colour & Materials-bild större på små skärmar */
  .miljo img{
    max-width:min(96rem, 92vw);
  }
}

/* ≤500px — mobil: en kolumn där det behövs, extra tight */
@media (max-width:500px){
  /* Menylistan lite smalare */
  nav ul{ width:90%; }

  /* Info: logo överst */
  .info{
    grid-template-columns:90%;
    row-gap:1.5rem;
  }
  .pendel img{ width:100%; }

  /* Moodboard: behåll text överst, bild under */
  .step_1{
    grid-template-columns:90%;
    grid-template-areas:
      "text"
      "image";
    row-gap:1rem;
    margin-top:1rem;
  }

  /* Keywords: en kolumn, tajt */
  .step_2{
    grid-template-columns:70%;
    grid-auto-rows:18rem;
    row-gap:1rem;
    padding:1rem 0 1.25rem;
    margin-top:1rem;
  }

  /* Line-up: nära och i en kolumn */
  .result{
    grid-template-columns:90%;
    margin-top:1rem;
  }
  .step_3{
    grid-template-columns:90%;
    grid-auto-rows:28rem;
    row-gap:1rem;
    margin-top:0;
  }
  .step_3 .pic{
    opacity:1;
    transform:none;
  }

  /* Colour & Materials: full bredd */
  .miljo img{
    width:100%;
    max-width:none;
  }
}
